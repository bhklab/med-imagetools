
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bhklab.github.io/med-imagetools/dev/cli/nnUNet/">
      
      
        <link rel="prev" href="../AutoPipeline/">
      
      
        <link rel="next" href="../imgtools/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.1">
    
    
      
        <title>Preparing Data for nnUNet - Med-ImageTools Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#preparing-data-for-nnunet" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Med-ImageTools Documentation" class="md-header__button md-logo" aria-label="Med-ImageTools Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Med-ImageTools Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Preparing Data for nnUNet
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/" class="md-tabs__link">
          
  
    
  
  Usage

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../AutoPipeline/" class="md-tabs__link">
          
  
    
  
  CLI Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/dicom-utils/find-dicoms/" class="md-tabs__link">
          
  
    
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Med-ImageTools Documentation" class="md-nav__button md-logo" aria-label="Med-ImageTools Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Med-ImageTools Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../usage/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Writers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Writers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/Writers/BaseWriter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract Base Writer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/Writers/ImplementingWriters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the AbstractBaseWriter class
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CLI Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AutoPipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AutoPipeline Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Preparing Data for nnUNet
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Preparing Data for nnUNet
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#processing-dicom-data-with-med-imagetools" class="md-nav__link">
    <span class="md-ellipsis">
      Processing DICOM Data with Med-ImageTools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-preprocess-and-train" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocess and Train
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nnUNet Preprocess and Train">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-step-preprocess-and-train" class="md-nav__link">
    <span class="md-ellipsis">
      One-Step Preprocess and Train
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocessing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-training" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Training
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-inference" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Inference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-dicom-data-with-med-imagetools_1" class="md-nav__link">
    <span class="md-ellipsis">
      Processing DICOM Data with Med-ImageTools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-preprocess-and-train_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocess and Train
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nnUNet Preprocess and Train">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-step-preprocess-and-train_1" class="md-nav__link">
    <span class="md-ellipsis">
      One-Step Preprocess and Train
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-preprocessing_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocessing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-training_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Training
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-inference_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Inference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../imgtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    imgtools CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dicom utils
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Dicom utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/dicom-utils/find-dicoms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Find DICOMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/dicom-utils/tag-helpers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tag Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dicomsort
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Dicomsort
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/dicomsort/dicomsorter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DICOMSorter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/dicomsort/patternparser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PatternParser
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#processing-dicom-data-with-med-imagetools" class="md-nav__link">
    <span class="md-ellipsis">
      Processing DICOM Data with Med-ImageTools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-preprocess-and-train" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocess and Train
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nnUNet Preprocess and Train">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-step-preprocess-and-train" class="md-nav__link">
    <span class="md-ellipsis">
      One-Step Preprocess and Train
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocessing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-training" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Training
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-inference" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Inference
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-dicom-data-with-med-imagetools_1" class="md-nav__link">
    <span class="md-ellipsis">
      Processing DICOM Data with Med-ImageTools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-preprocess-and-train_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocess and Train
    </span>
  </a>
  
    <nav class="md-nav" aria-label="nnUNet Preprocess and Train">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-step-preprocess-and-train_1" class="md-nav__link">
    <span class="md-ellipsis">
      One-Step Preprocess and Train
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-preprocessing_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Preprocessing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnunet-training_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Training
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nnunet-inference_1" class="md-nav__link">
    <span class="md-ellipsis">
      nnUNet Inference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="preparing-data-for-nnunet">Preparing Data for nnUNet</h1>
<p>nnUNet repo can be found at: <a href="https://github.com/MIC-DKFZ/nnUNet">https://github.com/MIC-DKFZ/nnUNet</a></p>
<h2 id="processing-dicom-data-with-med-imagetools">Processing DICOM Data with Med-ImageTools</h2>
<p>Ensure that you have followed the steps in <a href="https://github.com/bhklab/med-imagetools#installing-med-imagetools">https://github.com/bhklab/med-imagetools#installing-med-imagetools</a> before proceeding.</p>
<p>To convert your data from DICOM to NIfTI for training an nnUNet auto-segmentation model, run the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>autopipeline<span class="se">\</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="o">[</span>INPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="o">[</span>OUTPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span>--modalities<span class="w"> </span>CT,RTSTRUCT<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span>--nnunet
</code></pre></div>
<p>Modalities can also be set to <code>--modalities MR,RTSTRUCT</code></p>
<p>AutoPipeline offers many more options and features for you to customize your outputs: &lt;<a href="https://github.com/bhklab/med-imagetools/tree/main/README.md">https://github.com/bhklab/med-imagetools/tree/main/README.md</a>  </p>
<blockquote>
<p>.</p>
</blockquote>
<h2 id="nnunet-preprocess-and-train">nnUNet Preprocess and Train</h2>
<h3 id="one-step-preprocess-and-train">One-Step Preprocess and Train</h3>
<p>Med-ImageTools generates a file in your output folder called <code>nnunet_preprocess_and_train.sh</code> that combines all the commands needed for preprocessing and training your nnUNet model. Run that shell script to get a fully trained nnUNet model.</p>
<p>Alternatively, you can go through each step individually as follows below:</p>
<h3 id="nnunet-preprocessing">nnUNet Preprocessing</h3>
<p>Follow the instructions for setting up your paths for nnUNet: <a href="https://github.com/MIC-DKFZ/nnUNet/blob/master/documentation/setting_up_paths.md">https://github.com/MIC-DKFZ/nnUNet/blob/master/documentation/setting_up_paths.md</a></p>
<p>Med-ImageTools generates the dataset.json that nnUNet requires in the output directory that you specify.</p>
<p>The generated output directory structure will look something like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>OUTPUT_DIRECTORY
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├──<span class="w"> </span>nnUNet_preprocessed
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>├──<span class="w"> </span>nnUNet_raw_data_base
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>│<span class="w">   </span>└──<span class="w"> </span>nnUNet_raw_data
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>│<span class="w">       </span>└──<span class="w"> </span>Task500_HNSCC
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>│<span class="w">           </span>├──<span class="w"> </span>nnunet_preprocess_and_train.sh
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>│<span class="w">           </span>└──<span class="w"> </span>...
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>└──<span class="w"> </span>nnUNet_trained_models
</code></pre></div>
<p>nnUNet requires that environment variables be set before any commands are executed. To temporarily set them, run the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_raw_data_base</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_raw_data_base&quot;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_preprocessed</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_preprocessed&quot;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RESULTS_FOLDER</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_trained_models&quot;</span>
</code></pre></div>
<p>To permanently set these environment variables, make sure that in your <code>~/.bashrc</code> file, these environment variables are set for nnUNet. The <code>nnUNet_preprocessed</code> and <code>nnUNet_trained_models</code> folders are generated as empty folders for you by Med-ImageTools. <code>nnUNet_raw_data_base</code> is populated with the required raw data files. Add this to the file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_raw_data_base</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_raw_data_base&quot;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_preprocessed</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_preprocessed&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RESULTS_FOLDER</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_trained_models&quot;</span>
</code></pre></div>
<p>Then, execute the command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<p>Too allow nnUNet to preprocess your data for training, run the following command. Set XXX to the ID that you want to preprocess. This is your task ID. For example, for Task500_HNSCC, the task ID is 500. Task IDs must be between 500 and 999, so Med-ImageTools can run 500 instances with the <code>--nnunet</code> flag in a single output folder.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>nnUNet_plan_and_preprocess<span class="w"> </span>-t<span class="w"> </span>XXX<span class="w"> </span>--verify_dataset_integrity
</code></pre></div>
<h3 id="nnunet-training">nnUNet Training</h3>
<p>Once nnUNet has finished preprocessing, you may begin training your nnUNet model. To train your model, run the following command. Learn more about nnUNet's options here: <a href="https://github.com/MIC-DKFZ/nnUNet#model-training">https://github.com/MIC-DKFZ/nnUNet#model-training</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>nnUNet_train<span class="w"> </span>CONFIGURATION<span class="w"> </span>TRAINER_CLASS_NAME<span class="w"> </span>TASK_NAME_OR_ID<span class="w"> </span>FOLD
</code></pre></div>
<h2 id="nnunet-inference">nnUNet Inference</h2>
<p>For inference data, nnUNet requires data to be in a different output format. To run AutoPipeline for nnUNet inference, run the following command:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>autopipeline<span class="se">\</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="o">[</span>INPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="o">[</span>OUTPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span>--modalities<span class="w"> </span>CT<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span>--nnunet_inference<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span>--dataset_json_path<span class="w"> </span><span class="o">[</span>DATASET_JSON_PATH<span class="o">]</span>
</code></pre></div>
To execute this command AutoPipeline needs a json file with the image modality definitions.</p>
<p>Modalities can also be set to <code>--modalities MR</code>.</p>
<p>The directory structue will look like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>OUTPUT_DIRECTORY
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>├──<span class="w"> </span>0_subject1_0000.nii.gz
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>└──<span class="w"> </span>...
</code></pre></div>
<p>To run inference, run the command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>nnUNet_predict<span class="w"> </span>-i<span class="w"> </span>INPUT_FOLDER<span class="w"> </span>-o<span class="w"> </span>OUTPUT_FOLDER<span class="w"> </span>-t<span class="w"> </span>TASK_NAME_OR_ID<span class="w"> </span>-m<span class="w"> </span>CONFIGURATION
</code></pre></div>
<p>In this case, the <code>INPUT_FOLDER</code> of nnUNet is the <code>OUTPUT_DIRECTORY</code> of Med-ImageTools.# Preparing Data for nnUNet</p>
<p>nnUNet repo can be found at: <a href="https://github.com/MIC-DKFZ/nnUNet">https://github.com/MIC-DKFZ/nnUNet</a></p>
<h2 id="processing-dicom-data-with-med-imagetools_1">Processing DICOM Data with Med-ImageTools</h2>
<p>Ensure that you have followed the steps in <a href="https://github.com/bhklab/med-imagetools#installing-med-imagetools">https://github.com/bhklab/med-imagetools#installing-med-imagetools</a> before proceeding.</p>
<p>To convert your data from DICOM to NIfTI for training an nnUNet auto-segmentation model, run the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>autopipeline<span class="se">\</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="o">[</span>INPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="o">[</span>OUTPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span>--modalities<span class="w"> </span>CT,RTSTRUCT<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span>--nnunet
</code></pre></div>
<p>Modalities can also be set to <code>--modalities MR,RTSTRUCT</code></p>
<p>AutoPipeline offers many more options and features for you to customize your outputs: <a href="https://github.com/bhklab/med-imagetools/imgtools/README.md">https://github.com/bhklab/med-imagetools/imgtools/README.md</a>.</p>
<h2 id="nnunet-preprocess-and-train_1">nnUNet Preprocess and Train</h2>
<h3 id="one-step-preprocess-and-train_1">One-Step Preprocess and Train</h3>
<p>Med-ImageTools generates a file in your output folder called <code>nnunet_preprocess_and_train.sh</code> that combines all the commands needed for preprocessing and training your nnUNet model. Run that shell script to get a fully trained nnUNet model.</p>
<p>Alternatively, you can go through each step individually as follows below:</p>
<h3 id="nnunet-preprocessing_1">nnUNet Preprocessing</h3>
<p>Follow the instructions for setting up your paths for nnUNet: <a href="https://github.com/MIC-DKFZ/nnUNet/blob/master/documentation/setting_up_paths.md">https://github.com/MIC-DKFZ/nnUNet/blob/master/documentation/setting_up_paths.md</a></p>
<p>Med-ImageTools generates the dataset.json that nnUNet requires in the output directory that you specify.</p>
<p>The generated output directory structure will look something like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>OUTPUT_DIRECTORY
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>├──<span class="w"> </span>nnUNet_preprocessed
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>├──<span class="w"> </span>nnUNet_raw_data_base
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>│<span class="w">   </span>└──<span class="w"> </span>nnUNet_raw_data
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>│<span class="w">       </span>└──<span class="w"> </span>Task500_HNSCC
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>│<span class="w">           </span>├──<span class="w"> </span>nnunet_preprocess_and_train.sh
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>│<span class="w">           </span>└──<span class="w"> </span>...
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>└──<span class="w"> </span>nnUNet_trained_models
</code></pre></div>
<p>nnUNet requires that environment variables be set before any commands are executed. To temporarily set them, run the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_raw_data_base</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_raw_data_base&quot;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_preprocessed</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_preprocessed&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RESULTS_FOLDER</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_trained_models&quot;</span>
</code></pre></div>
<p>To permanently set these environment variables, make sure that in your <code>~/.bashrc</code> file, these environment variables are set for nnUNet. The <code>nnUNet_preprocessed</code> and <code>nnUNet_trained_models</code> folders are generated as empty folders for you by Med-ImageTools. <code>nnUNet_raw_data_base</code> is populated with the required raw data files. Add this to the file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_raw_data_base</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_raw_data_base&quot;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">nnUNet_preprocessed</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_preprocessed&quot;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RESULTS_FOLDER</span><span class="o">=</span><span class="s2">&quot;/OUTPUT_DIRECTORY/nnUNet_trained_models&quot;</span>
</code></pre></div>
<p>Then, execute the command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>
<p>Too allow nnUNet to preprocess your data for training, run the following command. Set XXX to the ID that you want to preprocess. This is your task ID. For example, for Task500_HNSCC, the task ID is 500. Task IDs must be between 500 and 999, so Med-ImageTools can run 500 instances with the <code>--nnunet</code> flag in a single output folder.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>nnUNet_plan_and_preprocess<span class="w"> </span>-t<span class="w"> </span>XXX<span class="w"> </span>--verify_dataset_integrity
</code></pre></div>
<h3 id="nnunet-training_1">nnUNet Training</h3>
<p>Once nnUNet has finished preprocessing, you may begin training your nnUNet model. To train your model, run the following command. Learn more about nnUNet's options here: <a href="https://github.com/MIC-DKFZ/nnUNet#model-training">https://github.com/MIC-DKFZ/nnUNet#model-training</a></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>nnUNet_train<span class="w"> </span>CONFIGURATION<span class="w"> </span>TRAINER_CLASS_NAME<span class="w"> </span>TASK_NAME_OR_ID<span class="w"> </span>FOLD
</code></pre></div>
<h2 id="nnunet-inference_1">nnUNet Inference</h2>
<p>For inference data, nnUNet requires data to be in a different output format. To run AutoPipeline for nnUNet inference, run the following command:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>autopipeline<span class="se">\</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="o">[</span>INPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="o">[</span>OUTPUT_DIRECTORY<span class="o">]</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">  </span>--modalities<span class="w"> </span>CT<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">  </span>--nnunet_inference<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span>--dataset_json_path<span class="w"> </span><span class="o">[</span>DATASET_JSON_PATH<span class="o">]</span>
</code></pre></div>
To execute this command AutoPipeline needs a json file with the image modality definitions.</p>
<p>Modalities can also be set to <code>--modalities MR</code>.</p>
<p>The directory structue will look like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>OUTPUT_DIRECTORY
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>├──<span class="w"> </span>0_subject1_0000.nii.gz
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>└──<span class="w"> </span>...
</code></pre></div>
<p>To run inference, run the command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>nnUNet_predict<span class="w"> </span>-i<span class="w"> </span>INPUT_FOLDER<span class="w"> </span>-o<span class="w"> </span>OUTPUT_FOLDER<span class="w"> </span>-t<span class="w"> </span>TASK_NAME_OR_ID<span class="w"> </span>-m<span class="w"> </span>CONFIGURATION
</code></pre></div>
<p>In this case, the <code>INPUT_FOLDER</code> of nnUNet is the <code>OUTPUT_DIRECTORY</code> of Med-ImageTools.</p>








  <aside class="md-source-file">
    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:44614774+jjjermiah@users.noreply.github.com">Jermiah Joseph</a>
    </nav>
  </span>

    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../AutoPipeline/" class="md-footer__link md-footer__link--prev" aria-label="Previous: AutoPipeline Usage">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                AutoPipeline Usage
              </div>
            </div>
          </a>
        
        
          
          <a href="../imgtools/" class="md-footer__link md-footer__link--next" aria-label="Next: imgtools CLI">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                imgtools CLI
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5090c770.min.js"></script>
      
    
  </body>
</html>